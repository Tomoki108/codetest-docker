# ポイント

- 取引の金額累計の上限を超えてしまうことは**絶対に許されない**ので、トランザクションの排他制御を用いて実装する。
  - `users`に`total_amount`カラムを追加し、取引の金額累計を保持する。
  - `SELECT FOR UPDATE`を利用して取引の金額累計を取得、更新することで金額累計のチェックとトランザクション間の競合防止 を行う。
- `main_test.go`の内容から、金額累計が上限を超過すると`402 Payment Required`を返すことを想定しているのでそのように実装する。
